<html>
  <head>
    <title>backbone.js Experiments</title>
    <link rel="stylesheet" href="css/bootstrap.min.css"/>
    <link rel="stylesheet" href="css/backbone-experiments.css"/>
    <script type="text/javascript" src="lib/jquery-1.7.1.min.js"></script>
    <script type="text/javascript" src="lib/underscore-1.3.1.min.js"></script>
    <script type="text/javascript" src="lib/backbone-0.5.3.min.js"></script>
    <script type="text/javascript" src="js/counter.js"></script>
    <script type="text/javascript">
      $(function(){
        var counterModel = new CounterModel();
        var counterView = new CounterView({el: $("#counter-1"), model: counterModel});
      
        $("#increase-1").click(function(){
          counterModel.increase();
        });
        $("#decrease-1").click(function(){
          counterModel.decrease();
        });
      });
    </script>
    <script type="text/javascript">
      $(function(){
        var counterModel = new CounterModel();
        new CounterView({el: $("#counter-2a"), model: counterModel});
        new CounterView({el: $("#counter-2b"), model: counterModel});
        new CounterView({el: $("#counter-2c"), model: counterModel});
      
        $("#increase-2").click(function(){
          counterModel.increase();
        });
        $("#decrease-2").click(function(){
          counterModel.decrease();
        });
      });
    </script>
    <script type="text/javascript">
      $(function(){
        var totalModel = new CounterModel();
        var increaseModel = new CounterModel();
        var decreaseModel = new CounterModel();

        new CounterView({el: $("#counter-3a"), model: totalModel});
        new CounterView({el: $("#counter-3b"), model: increaseModel});
        new CounterView({el: $("#counter-3c"), model: decreaseModel});
      
        var controller = {
          increase : function(){
            this.trigger("increase");
          },
          decrease : function(){
            this.trigger("decrease");
          }
        };
        _.extend(controller, Backbone.Events);
        controller.bind("increase",function(){this.increase();}, totalModel);
        controller.bind("increase",function(){this.increase();}, increaseModel);
        controller.bind("decrease",function(){this.decrease();}, totalModel);
        controller.bind("decrease",function(){this.increase();}, decreaseModel);
      
        $("#increase-3").click(function(){
          controller.increase();
        });
        $("#decrease-3").click(function(){
          controller.decrease();
        });
      });
    </script>
  </head>
  <body>
    <div class="topbar">
      <div class="fill">
	<div class="container">
	  <a class="brand" href="#">Backbone Experiments</a>
	</div>
      </div>
    </div>
    <div class="container">
      <div class="hero-unit">
	<h1>Backbone.js Experiments</h1>
	<p>
	  This site will demonstrate the power of having a <a href="http://backbonejs.org/">backbone</a>.
	</p>
      </div>
      <div class="row">
	<div class="span8">
	  <a id="increase-1" class="btn">++</a><h2 id="counter-1">_</h2><a id="decrease-1" class="btn">--</a>
	</div>
	<div class="span8">
	  <h1>Counter</h1>
	  <p>
	    The example demonstrates a simple counter. Use the
	    controls to change the counter. Under the water
	    a <code>CounterModel</code> and a <code>CounterView</code> is
	    created and wired up.
	  </p>
	</div>
      </div>
      <div class="row">
	<div class="span8">
	  <a id="increase-2" class="btn">++</a>
	  <h2 id="counter-2a">_</h2>
	  <h2 id="counter-2b">_</h2>
	  <h2 id="counter-2c">_</h2>
	  <a id="decrease-2" class="btn">--</a>
	</div>
	<div class="span8">
	  <h1>Counter With Multiple Views</h1>
	  <p>
	    This demonstrates one model with multiple views. There is
	    one <code>CounterModel</code>, just as in the preceding
	    example. There are three <code>CounterView</code>s, each
	    updated when the model changes value.
	  </p>
	</div>
      </div>
      <div class="row">
	<div class="span8">
	  <a id="increase-3" class="btn">++</a>
	  <h2 id="counter-3a">_</h2>
	  <h2 id="counter-3b">_</h2>
	  <h2 id="counter-3c">_</h2>
	  <a id="decrease-3" class="btn">--</a>
	</div>
	<div class="span8">
	  <h1>Multiple Counters &amp; Views</h1>
	  <p>
	    In this example there are three <code>CounterModel</code>s
	    and
	    three <code>CounterView</code>s. All <code>CounterModel</code>s
	    listen for events from a controller object which triggers
	    events when the buttons are pressed. Can you figure out
	    what they count?
	  </p>
	</div>
      </div>
    </div>
  </body>
</html>
